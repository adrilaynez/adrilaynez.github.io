{{- $url := .Get "url" -}}
<div class="streamlit-embed-wrapper">
    <iframe src="{{ $url }}?embedded=true" class="streamlit-embed-iframe"
        allow="camera; microphone; clipboard-read; clipboard-write; geolocation" title="LM-Lab Streamlit Application"
        loading="lazy">
    </iframe>
</div>

<style>
    .streamlit-embed-wrapper {
        width: 100%;
        height: 900px;
        margin: 2rem 0;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
        border: 1px solid var(--tertiary, #e0e0e0);
        background: var(--theme, #fff);
    }

    .streamlit-embed-iframe {
        width: 100%;
        height: 100%;
        border: none;
        background: transparent;
        display: block;
    }

    /* Dark mode support */
    @media (prefers-color-scheme: dark) {
        .streamlit-embed-wrapper {
            border-color: var(--tertiary, #444);
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.4);
        }
    }

    /* Tablet adjustments */
    @media (max-width: 1024px) {
        .streamlit-embed-wrapper {
            height: 800px;
        }
    }

    /* Mobile adjustments */
    @media (max-width: 768px) {
        .streamlit-embed-wrapper {
            height: 700px;
            margin: 1.5rem 0;
        }
    }

    @media (max-width: 480px) {
        .streamlit-embed-wrapper {
            height: 600px;
            margin: 1rem 0;
        }
    }
</style>